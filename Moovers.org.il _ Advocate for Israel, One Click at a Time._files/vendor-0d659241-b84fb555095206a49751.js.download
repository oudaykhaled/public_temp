(self.webpackChunk_loomhq_web_client=self.webpackChunk_loomhq_web_client||[]).push([[9095],{64575:function(e){"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=!function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==n.join(""))return!1;var i={};if("abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},i)).join(""))return!1;return!0}catch(e){return!1}}()?function(e,i){for(var o,s,a=function(e){if(null==e)throw TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var l in o=Object(arguments[u]))r.call(o,l)&&(a[l]=o[l]);if(t){s=t(o);for(var c=0;c<s.length;c++)n.call(o,s[c])&&(a[s[c]]=o[s[c]])}}return a}:Object.assign},55469:function(e){"use strict";var t=function(e){return e!=e};e.exports=function(e,r){return 0===e&&0===r?1/e==1/r:!!(e===r||t(e)&&t(r))}},87671:function(e,t,r){"use strict";var n=r(91026),i=r(83922),o=r(55469),s=r(24741),a=r(89977),u=i(s(),Object);n(u,{getPolyfill:s,implementation:o,shim:a}),e.exports=u},24741:function(e,t,r){"use strict";var n=r(55469);e.exports=function(){return"function"==typeof Object.is?Object.is:n}},89977:function(e,t,r){"use strict";var n=r(24741),i=r(91026);e.exports=function(){var e=n();return i(Object,{is:e},{is:function(){return Object.is!==e}}),e}},59014:function(e,t,r){"use strict";var n;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=r(85460),a=Object.prototype.propertyIsEnumerable,u=!a.call({toString:null},"toString"),l=a.call(function(){},"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{p(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),d=function(e){if("undefined"==typeof window||!f)return p(e);try{return p(e)}catch(e){return!1}};n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===o.call(e),n=s(e),a=t&&"[object String]"===o.call(e),p=[];if(!t&&!r&&!n)throw TypeError("Object.keys called on a non-object");var h=l&&r;if(a&&e.length>0&&!i.call(e,0))for(var f=0;f<e.length;++f)p.push(String(f));if(n&&e.length>0)for(var m=0;m<e.length;++m)p.push(String(m));else for(var y in e)!(h&&"prototype"===y)&&i.call(e,y)&&p.push(String(y));if(u)for(var v=d(e),g=0;g<c.length;++g)!(v&&"constructor"===c[g])&&i.call(e,c[g])&&p.push(c[g]);return p}}e.exports=n},39635:function(e,t,r){"use strict";var n=Array.prototype.slice,i=r(85460),o=Object.keys,s=o?function(e){return o(e)}:r(59014),a=Object.keys;s.shim=function(){return Object.keys?!function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)&&(Object.keys=function(e){return i(e)?a(n.call(e)):a(e)}):Object.keys=s,Object.keys||s},e.exports=s},85460:function(e){"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},55297:function(e,t,r){var n=r(48150);e.exports=function e(t,r,i){var s,a;return(n(r)||(i=r||i,r=[]),i=i||{},t instanceof RegExp)?function(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return e.keys=t,e}(t,r):n(t)?function(t,r,n){for(var i,o=[],s=0;s<t.length;s++)o.push(e(t[s],r,n).source);return(i=RegExp("(?:"+o.join("|")+")",l(n))).keys=r,i}(t,r,i):(s=r,c(o(t,a=i),s,a))},e.exports.parse=o,e.exports.compile=function(e,t){return a(o(e,t),t)},e.exports.tokensToFunction=a,e.exports.tokensToRegExp=c;var i=RegExp("(\\\\.)|([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))","g");function o(e,t){for(var r,n=[],o=0,s=0,a="",l=t&&t.delimiter||"/";null!=(r=i.exec(e));){var c=r[0],p=r[1],h=r.index;if(a+=e.slice(s,h),s=h+c.length,p){a+=p[1];continue}var f=e[s],d=r[2],m=r[3],y=r[4],v=r[5],g=r[6],w=r[7];a&&(n.push(a),a="");var b=null!=d&&null!=f&&f!==d,E="+"===g||"*"===g,x="?"===g||"*"===g,$=r[2]||l,O=y||v;n.push({name:m||o++,prefix:d||"",delimiter:$,optional:x,repeat:E,partial:b,asterisk:!!w,pattern:O?O.replace(/([=!:$\/()])/g,"\\$1"):w?".*":"[^"+u($)+"]+?"})}return s<e.length&&(a+=e.substr(s)),a&&n.push(a),n}function s(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function a(e,t){for(var r=Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(r[i]=RegExp("^(?:"+e[i].pattern+")$",l(t)));return function(t,i){for(var o="",a=t||{},u=(i||{}).pretty?s:encodeURIComponent,l=0;l<e.length;l++){var c,p=e[l];if("string"==typeof p){o+=p;continue}var h=a[p.name];if(null==h){if(p.optional){p.partial&&(o+=p.prefix);continue}throw TypeError('Expected "'+p.name+'" to be defined')}if(n(h)){if(!p.repeat)throw TypeError('Expected "'+p.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(p.optional)continue;throw TypeError('Expected "'+p.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(c=u(h[f]),!r[l].test(c))throw TypeError('Expected all "'+p.name+'" to match "'+p.pattern+'", but received `'+JSON.stringify(c)+"`");o+=(0===f?p.prefix:p.delimiter)+c}continue}if(c=p.asterisk?encodeURI(h).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):u(h),!r[l].test(c))throw TypeError('Expected "'+p.name+'" to match "'+p.pattern+'", but received "'+c+'"');o+=p.prefix+c}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e&&e.sensitive?"":"i"}function c(e,t,r){n(t)||(r=t||r,t=[]);for(var i,o,s=(r=r||{}).strict,a=!1!==r.end,c="",p=0;p<e.length;p++){var h=e[p];if("string"==typeof h)c+=u(h);else{var f=u(h.prefix),d="(?:"+h.pattern+")";t.push(h),h.repeat&&(d+="(?:"+f+d+")*"),c+=d=h.optional?h.partial?f+"("+d+")?":"(?:"+f+"("+d+"))?":f+"("+d+")"}}var m=u(r.delimiter||"/"),y=c.slice(-m.length)===m;return s||(c=(y?c.slice(0,-m.length):c)+"(?:"+m+"(?=$))?"),a?c+="$":c+=s&&y?"":"(?="+m+"|$)",i=RegExp("^"+c,l(r)),o=t,i.keys=o,i}},73044:function(e,t,r){var n;/*! Player.js - v0.1.0 - 2017-10-24
* http://github.com/embedly/player.js
* Copyright (c) 2017 Embedly; Licensed BSD */!function(i,o){var s={};s.DEBUG=!1,s.VERSION="0.0.11",s.CONTEXT="player.js",s.POST_MESSAGE=!!i.postMessage,s.origin=function(e){return"//"===e.substr(0,2)&&(e=i.location.protocol+e),e.split("/").slice(0,3).join("/")},s.addEvent=function(e,t,r){e&&(e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r)},s.log=function(){s.log.history=s.log.history||[],s.log.history.push(arguments),i.console&&s.DEBUG&&i.console.log(Array.prototype.slice.call(arguments))},s.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},s.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},s.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},s.isNone=function(e){return null==e},s.has=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.indexOf=function(e,t){if(null==e)return -1;var r=0,n=e.length;if(Array.prototype.IndexOf&&e.indexOf===Array.prototype.IndexOf)return e.indexOf(t);for(;r<n;r++)if(e[r]===t)return r;return -1},s.assert=function(e,t){if(!e)throw t||"Player.js Assert Failed"},s.Keeper=function(){this.init()},s.Keeper.prototype.init=function(){this.data={}},s.Keeper.prototype.getUUID=function(){return"listener-xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},s.Keeper.prototype.has=function(e,t){if(!this.data.hasOwnProperty(e))return!1;if(s.isNone(t))return!0;for(var r=this.data[e],n=0;n<r.length;n++)if(r[n].id===t)return!0;return!1},s.Keeper.prototype.add=function(e,t,r,n,i){var o={id:e,event:t,cb:r,ctx:n,one:i};this.has(t)?this.data[t].push(o):this.data[t]=[o]},s.Keeper.prototype.execute=function(e,t,r,n){if(!this.has(e,t))return!1;for(var i=[],o=[],a=0;a<this.data[e].length;a++){var u=this.data[e][a];s.isNone(t)||!s.isNone(t)&&u.id===t?(o.push({cb:u.cb,ctx:u.ctx?u.ctx:n,data:r}),!1===u.one&&i.push(u)):i.push(u)}0===i.length?delete this.data[e]:this.data[e]=i;for(var l=0;l<o.length;l++){var c=o[l];c.cb.call(c.ctx,c.data)}},s.Keeper.prototype.on=function(e,t,r,n){this.add(e,t,r,n,!1)},s.Keeper.prototype.one=function(e,t,r,n){this.add(e,t,r,n,!0)},s.Keeper.prototype.off=function(e,t){var r=[];if(!this.data.hasOwnProperty(e))return r;for(var n=[],i=0;i<this.data[e].length;i++){var o=this.data[e][i];s.isNone(t)||o.cb===t?s.isNone(o.id)||r.push(o.id):n.push(o)}return 0===n.length?delete this.data[e]:this.data[e]=n,r},s.Player=function(e,t){if(!(this instanceof s.Player))return new s.Player(e,t);this.init(e,t)},s.EVENTS={READY:"ready",PLAY:"play",PAUSE:"pause",ENDED:"ended",TIMEUPDATE:"timeupdate",PROGRESS:"progress",ERROR:"error"},s.EVENTS.all=function(){var e=[];for(var t in s.EVENTS)s.has(s.EVENTS,t)&&s.isString(s.EVENTS[t])&&e.push(s.EVENTS[t]);return e},s.METHODS={PLAY:"play",PAUSE:"pause",GETPAUSED:"getPaused",MUTE:"mute",UNMUTE:"unmute",GETMUTED:"getMuted",SETVOLUME:"setVolume",GETVOLUME:"getVolume",GETDURATION:"getDuration",SETCURRENTTIME:"setCurrentTime",GETCURRENTTIME:"getCurrentTime",SETLOOP:"setLoop",GETLOOP:"getLoop",REMOVEEVENTLISTENER:"removeEventListener",ADDEVENTLISTENER:"addEventListener"},s.METHODS.all=function(){var e=[];for(var t in s.METHODS)s.has(s.METHODS,t)&&s.isString(s.METHODS[t])&&e.push(s.METHODS[t]);return e},s.READIED=[],s.Player.prototype.init=function(e,t){var r=this;s.isString(e)&&(e=o.getElementById(e)),this.elem=e,s.assert("IFRAME"===e.nodeName,'playerjs.Player constructor requires an Iframe, got "'+e.nodeName+'"'),s.assert(e.src,"playerjs.Player constructor requires a Iframe with a 'src' attribute."),this.origin=s.origin(e.src),this.keeper=new s.Keeper,this.isReady=!1,this.queue=[],this.events=s.EVENTS.all(),this.methods=s.METHODS.all(),s.POST_MESSAGE?s.addEvent(i,"message",function(e){r.receive(e)}):s.log("Post Message is not Available."),s.indexOf(s.READIED,e.src)>-1?r.loaded=!0:this.elem.onload=function(){r.loaded=!0}},s.Player.prototype.send=function(e,t,r){if(e.context=s.CONTEXT,e.version=s.VERSION,t){var n=this.keeper.getUUID();e.listener=n,this.keeper.one(n,e.method,t,r)}return this.isReady||"ready"===e.value?(s.log("Player.send",e,this.origin),!0===this.loaded&&this.elem.contentWindow.postMessage(JSON.stringify(e),this.origin),!0):(s.log("Player.queue",e),this.queue.push(e),!1)},s.Player.prototype.receive=function(e){var t;if(s.log("Player.receive",e),e.origin!==this.origin)return!1;try{t=JSON.parse(e.data)}catch(e){return!1}if(t.context!==s.CONTEXT)return!1;"ready"===t.event&&t.value&&t.value.src===this.elem.src&&this.ready(t),this.keeper.has(t.event,t.listener)&&this.keeper.execute(t.event,t.listener,t.value,this)},s.Player.prototype.ready=function(e){if(!0===this.isReady)return!1;e.value.events&&(this.events=e.value.events),e.value.methods&&(this.methods=e.value.methods),this.isReady=!0,this.loaded=!0;for(var t=0;t<this.queue.length;t++){var r=this.queue[t];s.log("Player.dequeue",r),"ready"===e.event&&this.keeper.execute(r.event,r.listener,!0,this),this.send(r)}this.queue=[]},s.Player.prototype.on=function(e,t,r){var n=this.keeper.getUUID();return"ready"===e?this.keeper.one(n,e,t,r):this.keeper.on(n,e,t,r),this.send({method:"addEventListener",value:e,listener:n}),!0},s.Player.prototype.off=function(e,t){var r=this.keeper.off(e,t);if(s.log("Player.off",r),r.length>0)for(var n in r)return this.send({method:"removeEventListener",value:e,listener:r[n]}),!0;return!1},s.Player.prototype.supports=function(e,t){s.assert(s.indexOf(["method","event"],e)>-1,'evtOrMethod needs to be either "event" or "method" got '+e),t=s.isArray(t)?t:[t];for(var r="event"===e?this.events:this.methods,n=0;n<t.length;n++)if(-1===s.indexOf(r,t[n]))return!1;return!0};for(var a=0,u=s.METHODS.all().length;a<u;a++){var l=s.METHODS.all()[a];s.Player.prototype.hasOwnProperty(l)||(s.Player.prototype[l]=function(e){return function(){var t={method:e},r=Array.prototype.slice.call(arguments);/^get/.test(e)?(s.assert(r.length>0,"Get methods require a callback."),r.unshift(t)):(/^set/.test(e)&&(s.assert(0!==r.length,"Set methods require a value."),t.value=r[0]),r=[t]),this.send.apply(this,r)}}(l))}s.addEvent(i,"message",function(e){var t;try{t=JSON.parse(e.data)}catch(e){return!1}if(t.context!==s.CONTEXT)return!1;"ready"===t.event&&t.value&&t.value.src&&s.READIED.push(t.value.src)}),s.Receiver=function(e,t){this.init(e,t)},s.Receiver.prototype.init=function(e,t){var r=this;this.isReady=!1,this.origin=s.origin(o.referrer),this.methods={},this.supported={events:e||s.EVENTS.all(),methods:t||s.METHODS.all()},this.eventListeners={},this.reject=!(i.self!==i.top&&s.POST_MESSAGE),this.reject||s.addEvent(i,"message",function(e){r.receive(e)})},s.Receiver.prototype.receive=function(e){if(e.origin!==this.origin)return!1;var t={};if(s.isObject(e.data))t=e.data;else try{t=i.JSON.parse(e.data)}catch(e){s.log("JSON Parse Error",e)}if(s.log("Receiver.receive",e,t),!t.method||t.context!==s.CONTEXT)return!1;if(-1===s.indexOf(s.METHODS.all(),t.method))return this.emit("error",{code:2,msg:'Invalid Method "'+t.method+'"'}),!1;var r=s.isNone(t.listener)?null:t.listener;if("addEventListener"===t.method)this.eventListeners.hasOwnProperty(t.value)?-1===s.indexOf(this.eventListeners[t.value],r)&&this.eventListeners[t.value].push(r):this.eventListeners[t.value]=[r],"ready"===t.value&&this.isReady&&this.ready();else if("removeEventListener"===t.method){if(this.eventListeners.hasOwnProperty(t.value)){var n=s.indexOf(this.eventListeners[t.value],r);n>-1&&this.eventListeners[t.value].splice(n,1),0===this.eventListeners[t.value].length&&delete this.eventListeners[t.value]}}else this.get(t.method,t.value,r)},s.Receiver.prototype.get=function(e,t,r){var n=this;if(!this.methods.hasOwnProperty(e))return this.emit("error",{code:3,msg:'Method Not Supported"'+e+'"'}),!1;var i=this.methods[e];"get"===e.substr(0,3)?i.call(this,function(t){n.send(e,t,r)}):i.call(this,t)},s.Receiver.prototype.on=function(e,t){this.methods[e]=t},s.Receiver.prototype.send=function(e,t,r){if(s.log("Receiver.send",e,t,r),this.reject)return s.log("Receiver.send.reject",e,t,r),!1;var n={context:s.CONTEXT,version:s.VERSION,event:e};s.isNone(t)||(n.value=t),s.isNone(r)||(n.listener=r);var o=JSON.stringify(n);i.parent.postMessage(o,""===this.origin?"*":this.origin)},s.Receiver.prototype.emit=function(e,t){if(!this.eventListeners.hasOwnProperty(e))return!1;s.log("Instance.emit",e,t,this.eventListeners[e]);for(var r=0;r<this.eventListeners[e].length;r++){var n=this.eventListeners[e][r];this.send(e,t,n)}return!0},s.Receiver.prototype.ready=function(){s.log("Receiver.ready"),this.isReady=!0;var e={src:i.location.toString(),events:this.supported.events,methods:this.supported.methods};this.emit("ready",e)||this.send("ready",e)},s.HTML5Adapter=function(e){if(!(this instanceof s.HTML5Adapter))return new s.HTML5Adapter(e);this.init(e)},s.HTML5Adapter.prototype.init=function(e){s.assert(e,"playerjs.HTML5Adapter requires a video element");var t=this.receiver=new s.Receiver;e.addEventListener("playing",function(){t.emit("play")}),e.addEventListener("pause",function(){t.emit("pause")}),e.addEventListener("ended",function(){t.emit("ended")}),e.addEventListener("timeupdate",function(){t.emit("timeupdate",{seconds:e.currentTime,duration:e.duration})}),e.addEventListener("progress",function(){t.emit("buffered",{percent:e.buffered.length})}),t.on("play",function(){e.play()}),t.on("pause",function(){e.pause()}),t.on("getPaused",function(t){t(e.paused)}),t.on("getCurrentTime",function(t){t(e.currentTime)}),t.on("setCurrentTime",function(t){e.currentTime=t}),t.on("getDuration",function(t){t(e.duration)}),t.on("getVolume",function(t){t(100*e.volume)}),t.on("setVolume",function(t){e.volume=t/100}),t.on("mute",function(){e.muted=!0}),t.on("unmute",function(){e.muted=!1}),t.on("getMuted",function(t){t(e.muted)}),t.on("getLoop",function(t){t(e.loop)}),t.on("setLoop",function(t){e.loop=t})},s.HTML5Adapter.prototype.ready=function(){this.receiver.ready()},s.JWPlayerAdapter=function(e){if(!(this instanceof s.JWPlayerAdapter))return new s.JWPlayerAdapter(e);this.init(e)},s.JWPlayerAdapter.prototype.init=function(e){s.assert(e,"playerjs.JWPlayerAdapter requires a player object");var t=this.receiver=new s.Receiver;this.looped=!1,e.on("pause",function(){t.emit("pause")}),e.on("play",function(){t.emit("play")}),e.on("time",function(e){var r=e.position,n=e.duration;if(!r||!n)return!1;t.emit("timeupdate",{seconds:r,duration:n})});var r=this;e.on("complete",function(){!0===r.looped?e.seek(0):t.emit("ended")}),e.on("error",function(){t.emit("error")}),t.on("play",function(){e.play(!0)}),t.on("pause",function(){e.pause(!0)}),t.on("getPaused",function(t){t("playing"!==e.getState().toLowerCase())}),t.on("getCurrentTime",function(t){t(e.getPosition())}),t.on("setCurrentTime",function(t){e.seek(t)}),t.on("getDuration",function(t){t(e.getDuration())}),t.on("getVolume",function(t){t(e.getVolume())}),t.on("setVolume",function(t){e.setVolume(t)}),t.on("mute",function(){e.setMute(!0)}),t.on("unmute",function(){e.setMute(!1)}),t.on("getMuted",function(t){t(!0===e.getMute())}),t.on("getLoop",function(e){e(this.looped)},this),t.on("setLoop",function(e){this.looped=e},this)},s.JWPlayerAdapter.prototype.ready=function(){this.receiver.ready()},s.MockAdapter=function(){if(!(this instanceof s.MockAdapter))return new s.MockAdapter;this.init()},s.MockAdapter.prototype.init=function(){var e={duration:20,currentTime:0,interval:null,timeupdate:function(){},volume:100,mute:!1,playing:!1,loop:!1,play:function(){e.interval=setInterval(function(){e.currentTime+=.25,e.timeupdate({seconds:e.currentTime,duration:e.duration})},250),e.playing=!0},pause:function(){clearInterval(e.interval),e.playing=!1}},t=this.receiver=new s.Receiver;t.on("play",function(){var t=this;e.play(),this.emit("play"),e.timeupdate=function(e){t.emit("timeupdate",e)}}),t.on("pause",function(){e.pause(),this.emit("pause")}),t.on("getPaused",function(t){t(!e.playing)}),t.on("getCurrentTime",function(t){t(e.currentTime)}),t.on("setCurrentTime",function(t){e.currentTime=t}),t.on("getDuration",function(t){t(e.duration)}),t.on("getVolume",function(t){t(e.volume)}),t.on("setVolume",function(t){e.volume=t}),t.on("mute",function(){e.mute=!0}),t.on("unmute",function(){e.mute=!1}),t.on("getMuted",function(t){t(e.mute)}),t.on("getLoop",function(t){t(e.loop)}),t.on("setLoop",function(t){e.loop=t})},s.MockAdapter.prototype.ready=function(){this.receiver.ready()},s.VideoJSAdapter=function(e){if(!(this instanceof s.VideoJSAdapter))return new s.VideoJSAdapter(e);this.init(e)},s.VideoJSAdapter.prototype.init=function(e){s.assert(e,"playerjs.VideoJSReceiver requires a player object");var t=this.receiver=new s.Receiver;e.on("pause",function(){t.emit("pause")}),e.on("play",function(){t.emit("play")}),e.on("timeupdate",function(r){var n=e.currentTime(),i=e.duration();if(!n||!i)return!1;t.emit("timeupdate",{seconds:n,duration:i})}),e.on("ended",function(){t.emit("ended")}),e.on("error",function(){t.emit("error")}),t.on("play",function(){e.play()}),t.on("pause",function(){e.pause()}),t.on("getPaused",function(t){t(e.paused())}),t.on("getCurrentTime",function(t){t(e.currentTime())}),t.on("setCurrentTime",function(t){e.currentTime(t)}),t.on("getDuration",function(t){t(e.duration())}),t.on("getVolume",function(t){t(100*e.volume())}),t.on("setVolume",function(t){e.volume(t/100)}),t.on("mute",function(){e.volume(0)}),t.on("unmute",function(){e.volume(1)}),t.on("getMuted",function(t){t(0===e.volume())}),t.on("getLoop",function(t){t(e.loop())}),t.on("setLoop",function(t){e.loop(t)})},s.VideoJSAdapter.prototype.ready=function(){this.receiver.ready()},void 0!==(n=(function(){return s}).call(t,r,t,e))&&(e.exports=n)}(window,document)},56041:function(e){e.exports=function(){var e=[],t=[],r={},n={},i={};function o(e){return"string"==typeof e?RegExp("^"+e+"$","i"):e}function s(e,t){return e===t?t:e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function a(e,t,n){if(!e.length||r.hasOwnProperty(e))return t;for(var i=n.length;i--;){var o=n[i];if(o[0].test(t))return function(e,t){return e.replace(t[0],function(r,n){var i,o,a=(i=t[1],o=arguments,i.replace(/\$(\d{1,2})/g,function(e,t){return o[t]||""}));return""===r?s(e[n-1],a):s(r,a)})}(t,o)}return t}function u(e,t,r){return function(n){var i=n.toLowerCase();return t.hasOwnProperty(i)?s(n,i):e.hasOwnProperty(i)?s(n,e[i]):a(i,n,r)}}function l(e,t,r,n){return function(n){var i=n.toLowerCase();return!!t.hasOwnProperty(i)||!e.hasOwnProperty(i)&&a(i,i,r)===i}}function c(e,t,r){var n=1===t?c.singular(e):c.plural(e);return(r?t+" ":"")+n}return c.plural=u(i,n,e),c.isPlural=l(i,n,e),c.singular=u(n,i,t),c.isSingular=l(n,i,t),c.addPluralRule=function(t,r){e.push([o(t),r])},c.addSingularRule=function(e,r){t.push([o(e),r])},c.addUncountableRule=function(e){if("string"==typeof e){r[e.toLowerCase()]=!0;return}c.addPluralRule(e,"$0"),c.addSingularRule(e,"$0")},c.addIrregularRule=function(e,t){t=t.toLowerCase(),i[e=e.toLowerCase()]=t,n[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["whiskey","whiskies"]].forEach(function(e){return c.addIrregularRule(e[0],e[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|tlas|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[emjzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/(m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(e){return c.addPluralRule(e[0],e[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/(m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|tlas|gas|(?:her|at|gr)o|ris)(?:es)?$/i,"$1"],[/(analy|ba|diagno|parenthe|progno|synop|the|empha|cri)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(e){return c.addSingularRule(e[0],e[1])}),["adulthood","advice","agenda","aid","alcohol","ammo","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","flounder","fun","gallows","garbage","graffiti","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","manga","news","pike","plankton","pliers","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","species","staff","swine","tennis","traffic","transporation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(c.addUncountableRule),c}()},26743:function(e){var t,r,n,i=e.exports={};function o(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u=[],l=!1,c=-1;function p(){l&&n&&(l=!1,n.length?u=n.concat(u):c=-1,u.length&&h())}function h(){if(!l){var e=a(p);l=!0;for(var t=u.length;t;){for(n=u,u=[];++c<t;)n&&n[c].run();c=-1,t=u.length}n=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function d(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new f(e,t)),1!==u.length||l||a(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=d,i.addListener=d,i.once=d,i.off=d,i.removeListener=d,i.removeAllListeners=d,i.emit=d,i.prependListener=d,i.prependOnceListener=d,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}},13242:function(e,t,r){"use strict";var n=r(47410);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,s){if(s!==n){var a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},42281:function(e,t,r){e.exports=r(13242)()},47410:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},12145:function(e,t,r){var n;e=r.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof r.g&&r.g;o.global===o||o.window===o||o.self;var s,a=/^xn--/,u=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,h=String.fromCharCode;function f(e){throw RangeError(c[e])}function d(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function m(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+d((e=e.replace(l,".")).split("."),t).join(".")}function y(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?(64512&(r=e.charCodeAt(i++)))==56320?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function v(e){return d(e,function(e){var t="";return e>65535&&(e-=65536,t+=h(e>>>10&1023|55296),e=56320|1023&e),t+=h(e)}).join("")}function g(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,r){var n=0;for(e=r?p(e/700):e>>1,e+=p(e/t);e>455;n+=36)e=p(e/35);return p(n+36*e/(e+38))}function b(e){var t,r,n,i,o,s,a,u,l,c,h,d=[],m=e.length,y=0,g=128,b=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&f("not-basic"),d.push(e.charCodeAt(i));for(o=n>0?n+1:0;o<m;){for(s=y,a=1,u=36;o>=m&&f("invalid-input"),((l=(t=e.charCodeAt(o++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36)>=36||l>p((2147483647-y)/a))&&f("overflow"),y+=l*a,!(l<(c=u<=b?1:u>=b+26?26:u-b));u+=36)a>p(2147483647/(h=36-c))&&f("overflow"),a*=h;b=w(y-s,r=d.length+1,0==s),p(y/r)>2147483647-g&&f("overflow"),g+=p(y/r),y%=r,d.splice(y++,0,g)}return v(d)}function E(e){var t,r,n,i,o,s,a,u,l,c,d,m,v,b,E,x=[];for(s=0,m=(e=y(e)).length,t=128,r=0,o=72;s<m;++s)(d=e[s])<128&&x.push(h(d));for(n=i=x.length,i&&x.push("-");n<m;){for(a=2147483647,s=0;s<m;++s)(d=e[s])>=t&&d<a&&(a=d);for(a-t>p((2147483647-r)/(v=n+1))&&f("overflow"),r+=(a-t)*v,t=a,s=0;s<m;++s)if((d=e[s])<t&&++r>2147483647&&f("overflow"),d==t){for(u=r,l=36;!(u<(c=l<=o?1:l>=o+26?26:l-o));l+=36)E=u-c,b=36-c,x.push(h(g(c+E%b,0))),u=p(E/b);x.push(h(g(u,0))),o=w(r,v,n==i),r=0,++n}++r,++t}return x.join("")}s={version:"1.3.2",ucs2:{decode:y,encode:v},decode:b,encode:E,toASCII:function(e){return m(e,function(e){return u.test(e)?"xn--"+E(e):e})},toUnicode:function(e){return m(e,function(e){return a.test(e)?b(e.slice(4).toLowerCase()):e})}},void 0!==(n=(function(){return s}).call(t,r,t,e))&&(e.exports=n)}(0)},44439:function(e,t,r){"use strict";r(18151),r(64575),r(10227)},52445:function(e){"use strict";e.exports=function(e,t,r,n){t=t||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(t);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var a=e.length;s>0&&a>s&&(a=s);for(var u=0;u<a;++u){var l,c,p,h,f=e[u].replace(o,"%20"),d=f.indexOf(r);(d>=0?(l=f.substr(0,d),c=f.substr(d+1)):(l=f,c=""),p=decodeURIComponent(l),h=decodeURIComponent(c),Object.prototype.hasOwnProperty.call(i,p))?Array.isArray(i[p])?i[p].push(h):i[p]=[i[p],h]:i[p]=h}return i}},27175:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,i){return(r=r||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e)?Object.keys(e).map(function(i){var o=encodeURIComponent(t(i))+n;return Array.isArray(e[i])?e[i].map(function(e){return o+encodeURIComponent(t(e))}).join(r):o+encodeURIComponent(t(e[i]))}).join(r):i?encodeURIComponent(t(i))+n+encodeURIComponent(t(e)):""}},51723:function(e,t,r){"use strict";t.decode=t.parse=r(52445),t.encode=t.stringify=r(27175)},91271:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});let n=(e,t)=>t.some(t=>t instanceof RegExp?t.test(e):t===e),i=(e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw Error(`Invalid URL: ${e}`);let{type:n,data:i,hash:o}=r.groups,s=n.split(";");o=t?"":o;let a=!1;"base64"===s[s.length-1]&&(s.pop(),a=!0);let u=(s.shift()||"").toLowerCase(),l=s.map(e=>{let[t,r=""]=e.split("=").map(e=>e.trim());return"charset"===t&&"us-ascii"===(r=r.toLowerCase())?"":`${t}${r?`=${r}`:""}`}).filter(Boolean),c=[...l];return a&&c.push("base64"),(c.length>0||u&&"text/plain"!==u)&&c.unshift(u),`data:${c.join(";")},${a?i.trim():i}${o?`#${o}`:""}`};function o(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return i(e,t);if(/^view-source:/i.test(e))throw Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//"),o=!r&&/^\.*\//.test(e);o||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let s=new URL(e);if(t.forceHttp&&t.forceHttps)throw Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&"https:"===s.protocol&&(s.protocol="http:"),t.forceHttps&&"http:"===s.protocol&&(s.protocol="https:"),t.stripAuthentication&&(s.username="",s.password=""),t.stripHash?s.hash="":t.stripTextFragment&&(s.hash=s.hash.replace(/#?:~:text.*?$/i,"")),s.pathname){let e=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,t=0,r="";for(;;){let n=e.exec(s.pathname);if(!n)break;let i=n[0],o=n.index,a=s.pathname.slice(t,o);r+=a.replace(/\/{2,}/g,"/")+i,t=o+i.length}let n=s.pathname.slice(t,s.pathname.length);r+=n.replace(/\/{2,}/g,"/"),s.pathname=r}if(s.pathname)try{s.pathname=decodeURI(s.pathname)}catch{}if(!0===t.removeDirectoryIndex&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let e=s.pathname.split("/"),r=e[e.length-1];n(r,t.removeDirectoryIndex)&&(e=e.slice(0,-1),s.pathname=e.slice(1).join("/")+"/")}if(s.hostname&&(s.hostname=s.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(s.hostname)&&(s.hostname=s.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let e of[...s.searchParams.keys()])n(e,t.removeQueryParameters)&&s.searchParams.delete(e);if(!0===t.removeQueryParameters&&(s.search=""),t.sortQueryParameters){s.searchParams.sort();try{s.search=decodeURIComponent(s.search)}catch{}}t.removeTrailingSlash&&(s.pathname=s.pathname.replace(/\/$/,""));let a=e;return e=s.toString(),t.removeSingleSlash||"/"!==s.pathname||a.endsWith("/")||""!==s.hash||(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||"/"===s.pathname)&&""===s.hash&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}},90826:function(e,t,r){"use strict";let n;r.d(t,{dP:function(){return S},re:function(){return R}});var i=r(47949);function o(){}class s{constructor(e=1/0,t=o){this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){let t=this.getNode(e);return t&&t.value}getNode(e){let t=this.map.get(e);if(t&&t!==this.newest){let{older:e,newer:r}=t;r&&(r.older=e),e&&(e.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t}set(e,t){let r=this.getNode(e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){let t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)}}var a=r(16857);let u=new a.g7,{hasOwnProperty:l}=Object.prototype,c=Array.from||function(e){let t=[];return e.forEach(e=>t.push(e)),t};function p(e){let{unsubscribe:t}=e;"function"==typeof t&&(e.unsubscribe=void 0,t())}let h=[];function f(e,t){if(!e)throw Error(t||"assertion failure")}function d(e){switch(e.length){case 0:throw Error("unknown value");case 1:return e[0];case 2:throw e[1]}}class m{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++m.count}peek(){if(1===this.value.length&&!g(this))return y(this),this.value[0]}recompute(e){var t;return f(!this.recomputing,"already recomputing"),y(this),g(this)&&($(this),u.withValue(this,v,[this,e]),function(e,t){if("function"==typeof e.subscribe)try{p(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),!1}return!0}(this,e)&&(this.dirty=!1,g(this)||(t=this,w(t,E)))),d(this.value)}setDirty(){this.dirty||(this.dirty=!0,this.value.length=0,w(this,b),p(this))}dispose(){this.setDirty(),$(this),w(this,(e,t)=>{e.setDirty(),O(e,this)})}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=h.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(c(this.deps).forEach(e=>e.delete(this)),this.deps.clear(),h.push(this.deps),this.deps=null)}}function y(e){let t=u.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),g(e)?b(t,e):E(t,e),t}function v(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(t){e.value[1]=t}e.recomputing=!1}function g(e){return e.dirty||!!(e.dirtyChildren&&e.dirtyChildren.size)}function w(e,t){let r=e.parents.size;if(r){let n=c(e.parents);for(let i=0;i<r;++i)t(n[i],e)}}function b(e,t){f(e.childValues.has(t)),f(g(t));let r=!g(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=h.pop()||new Set;e.dirtyChildren.add(t),r&&w(e,b)}function E(e,t){f(e.childValues.has(t)),f(!g(t));let r=e.childValues.get(t);0===r.length?e.childValues.set(t,t.value.slice(0)):!function(e,t){let r=e.length;return r>0&&r===t.length&&e[r-1]===t[r-1]}(r,t.value)&&e.setDirty(),x(e,t),g(e)||w(e,E)}function x(e,t){let r=e.dirtyChildren;r&&(r.delete(t),0===r.size&&(h.length<100&&h.push(r),e.dirtyChildren=null))}function $(e){e.childValues.size>0&&e.childValues.forEach((t,r)=>{O(e,r)}),e.forgetDeps(),f(null===e.dirtyChildren)}function O(e,t){t.parents.delete(e),e.childValues.delete(t),x(e,t)}m.count=0;let T={setDirty:!0,dispose:!0,forget:!0};function S(e){let t=new Map,r=e&&e.subscribe;function n(e){let n=u.getValue();if(n){let i=t.get(e);i||t.set(e,i=new Set),n.dependOn(i),"function"==typeof r&&(p(i),i.unsubscribe=r(e))}}return n.dirty=function(e,r){let n=t.get(e);if(n){let i=r&&l.call(T,r)?r:"setDirty";c(n).forEach(e=>e[i]()),t.delete(e),p(n)}},n}function P(...e){let t=n||(n=new i.B("function"==typeof WeakMap));return t.lookupArray(e)}let j=new Set;function R(e,{max:t=65536,makeCacheKey:r=P,keyArgs:n,subscribe:i}=Object.create(null)){let o=new s(t,e=>e.dispose()),a=function(){let t=r.apply(null,n?n.apply(null,arguments):arguments);if(void 0===t)return e.apply(null,arguments);let s=o.get(t);s||(o.set(t,s=new m(e)),s.subscribe=i,s.forget=()=>o.delete(t));let a=s.recompute(Array.prototype.slice.call(arguments));return o.set(t,s),j.add(o),u.hasValue()||(j.forEach(e=>e.clean()),j.clear()),a};function l(e){let t=o.get(e);t&&t.setDirty()}function c(e){let t=o.get(e);if(t)return t.peek()}function p(e){return o.delete(e)}return Object.defineProperty(a,"size",{get(){return o.map.size},configurable:!1,enumerable:!1}),Object.freeze(a.options={max:t,makeCacheKey:r,keyArgs:n,subscribe:i}),a.dirtyKey=l,a.dirty=function(){l(r.apply(null,arguments))},a.peekKey=c,a.peek=function(){return c(r.apply(null,arguments))},a.forgetKey=p,a.forget=function(){return p(r.apply(null,arguments))},a.makeCacheKey=r,a.getKey=n?function(){return r.apply(null,n.apply(null,arguments))}:r,Object.freeze(a)}}}]);